{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app/js/constant.js","webpack:///./app/js/controller.js","webpack:///./app/js/dom.js","webpack:///./app/js/index.js","webpack:///./app/js/task-logic.js","webpack:///./app/scss/style.scss"],"names":["TASK_AREA","document","querySelector","STATUS","default","processing","completed","startEvents","filterContainer","getElementById","addEventListener","querySelectorAll","forEach","el","onclick","evnt","preventDefault","targetForm","target","closest","targetButton","getAttribute","targetTaskId","targetTaskName","innerHTML","classList","toggle","remove","targetFilter","console","log","drawTask","id","name","status","newTask","createElement","setAttribute","insertBefore","firstChild","sendTaskInLocalDB","tasksList","init","Storage","localStorage","getItem","JSON","parse","reload","serialTasksList","stringify","setItem","location","createNewTasks","taskName","value","trim","taskId","Date","valueOf","push","deleteTask","list","filter","index","arr","editTask","form","add","saveTask","newTaskName","currentTask","array","cancelTask","changeStatus","statusValue","selectTask","filterTask","filterParam","filteredTasks"],"mappings":"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","file":"./js/script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const TASK_AREA = document.querySelector(\".tasks-container\");\r\nconst STATUS = {\r\n    default: 0,\r\n    processing: 1,\r\n    completed: 2\r\n};\r\n\r\nexport {TASK_AREA, STATUS};","import { STATUS } from './constant';\r\nimport {\r\n    createNewTasks,\r\n    deleteTask,\r\n    editTask,\r\n    saveTask,\r\n    cancelTask,\r\n    changeStatus,\r\n    filterTask\r\n} from './task-logic'\r\n\r\nlet filterContainer = document.querySelector('.filter-task');\r\n\r\nexport function startEvents() {\r\n    document.getElementById('add-task').addEventListener('click', createNewTasks);\r\n    document.querySelectorAll('.tasks-wrap').forEach(\r\n        el => el.querySelector('.form').onclick = function (evnt) {\r\n            evnt.preventDefault();\r\n            let targetForm = evnt.target.closest('form');\r\n            let targetButton = evnt.target.getAttribute('data-state');\r\n            let targetTaskId = targetForm.querySelector('.name-field').getAttribute('data-id');\r\n            let targetTaskName = targetForm.querySelector('.name-field').innerHTML;\r\n\r\n            switch (targetButton) {\r\n                case 'delete-task':\r\n                    deleteTask(targetTaskId);\r\n                    break;\r\n                case 'edit-task':\r\n                    editTask(targetForm, targetTaskName, targetTaskId);\r\n                    break;\r\n                case 'cancel-task':\r\n                    cancelTask(targetForm);\r\n                    break;\r\n                case 'save-task':\r\n                    saveTask(targetForm, targetTaskId);\r\n                    break;\r\n                case 'status-task':\r\n                    changeStatus(targetTaskId, STATUS.processing);\r\n                    break;\r\n                case 'status-complete-task':\r\n                    changeStatus(targetTaskId, STATUS.completed);\r\n                    break;\r\n            }\r\n        }\r\n    );\r\n    document.querySelector('.filter-btn').onclick = function () {\r\n        filterContainer.classList.toggle('open');\r\n    }\r\n    document.querySelectorAll('.filter-item').forEach(\r\n        el => el.onclick = function (evnt) {\r\n            evnt.preventDefault();\r\n            filterContainer.classList.remove('open');\r\n            let targetFilter = evnt.target.getAttribute('data-filter');\r\n            switch (targetFilter) {\r\n                case 'filter-all':\r\n                    filterTask();\r\n                    break;\r\n                case 'filter-in-progress':\r\n                    filterTask(STATUS.processing);\r\n                    break;\r\n                case 'filter-complete':\r\n                    filterTask(STATUS.completed);\r\n                    break;\r\n                default:\r\n                    console.log('other');\r\n            }\r\n        }\r\n    );\r\n\r\n}\r\n","import { STATUS } from './constant';\r\nimport { TASK_AREA } from './constant';\r\n\r\nfunction drawTask(id, name, status) {\r\n    let newTask = document.createElement('div');\r\n    newTask.setAttribute('class', 'tasks-wrap');\r\n    TASK_AREA.insertBefore(newTask, TASK_AREA.firstChild);\r\n\r\n    newTask.innerHTML =\r\n        `<form action=\"smth\" class=\"form task-form\">\r\n            <fieldset class=\"field-wrap\">\r\n                <input type=\"checkbox\" class=\"btn-status-complete\" data-state =\"status-complete-task\" checked=\"${status==STATUS.completed}\">\r\n                <p class=\"field name-field\" data-id=\"${id}\">${name}</p>\r\n                <input type=\"text\" class=\"field edit-name-field\" data-id=\"${id}\" value=\"${name}\">\r\n            </fieldset>\r\n            <div class=\"btn-group\">\r\n                <button class=\"btn btn-sm btn-status\" data-state =\"status-task\" data-status=\"${status}\"></button>\r\n                <button class=\"btn btn-sm btn-edit\" data-state =\"edit-task\"></button>\r\n                <button class=\"btn btn-sm btn-delete-item\" data-state =\"delete-task\"></button>\r\n                <button class=\"btn btn-sm btn-save\" data-state=\"save-task\"></button>\r\n                <button class=\"btn btn-sm btn-cancel\" data-state=\"cancel-task\"></button>\r\n            </div>\r\n        </form>`;\r\n}\r\n\r\nexport { drawTask };","import { startEvents } from './controller';\r\nimport { drawTask } from './dom';\r\n\r\nexport var tasksList = [];\r\n\r\nfunction init() {\r\n\r\n    if (typeof (Storage) !== \"undefined\") {\r\n        if (localStorage.getItem('tasksDB')) {\r\n            tasksList = JSON.parse(localStorage.getItem(\"tasksDB\"));\r\n            tasksList.forEach(el => drawTask(el.id,el.name, el.status));\r\n        }\r\n    } else {\r\n        console.log('Sorry! No Web Storage support');\r\n    }\r\n\r\n    startEvents();\r\n}\r\n\r\nexport function sendTaskInLocalDB(tasksList, reload) {\r\n    let serialTasksList = JSON.stringify(tasksList);\r\n    localStorage.setItem(\"tasksDB\", serialTasksList);\r\n    location.reload();\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', init);","import { STATUS, TASK_AREA } from './constant';\r\nimport { tasksList, sendTaskInLocalDB } from './index';\r\nimport { drawTask } from './dom';\r\n\r\nfunction createNewTasks(evnt) {\r\n    evnt.preventDefault();\r\n\r\n    let taskName = document.querySelector('.add-field').value.trim();\r\n\r\n    if (!taskName) {\r\n        document.querySelector('.add-task .error').innerHTML = \"Invalid value\";\r\n    } else {\r\n        let taskId = new Date().valueOf() + '_' + taskName;\r\n        tasksList.push({\r\n            status: STATUS.default,\r\n            id: taskId,\r\n            name: taskName\r\n        });\r\n        document.querySelector('.add-field').value = '';\r\n        sendTaskInLocalDB(tasksList);\r\n        drawTask(taskId, taskName, STATUS.default);\r\n    }\r\n}\r\nfunction deleteTask(id) {\r\n    let list = tasksList.filter((el, index, arr) => arr[index].id != id);\r\n    sendTaskInLocalDB(list);\r\n};\r\n\r\nfunction editTask(form, name, id) {\r\n    form.classList.add('edit-mode');\r\n};\r\n\r\nfunction saveTask(form, id) {\r\n    let newTaskName = form.querySelector('.edit-name-field').value.trim();\r\n    let currentTask = tasksList.filter((el, index, array) =>\r\n        array[index].id == id && newTaskName != ''\r\n    )\r\n    currentTask[0].name = newTaskName;\r\n    sendTaskInLocalDB(tasksList);\r\n};\r\n\r\nfunction cancelTask(form) {\r\n    form.classList.remove('edit-mode');\r\n};\r\n\r\nfunction changeStatus(id, statusValue) {\r\n    let currentTask = selectTask(id);\r\n    if (currentTask[0].status == statusValue) {\r\n        currentTask[0].status = STATUS.default;\r\n    } else {\r\n        currentTask[0].status = statusValue;\r\n    }\r\n    sendTaskInLocalDB(tasksList);\r\n}\r\n\r\nfunction selectTask(id) {\r\n    return tasksList.filter((el, index, array) =>\r\n        array[index].id == id\r\n    )\r\n}\r\n\r\nfunction filterTask(filterParam){\r\n    TASK_AREA.innerHTML = '';\r\n    if(!filterParam) {\r\n        tasksList.forEach(el =>  drawTask(el.id, el.name, el.status))\r\n    } else {\r\n        let filteredTasks = tasksList.filter((el, index, array) => el.status == filterParam);\r\n        filteredTasks.forEach(el =>  drawTask(el.id, el.name, el.status));\r\n    }\r\n}\r\n\r\nexport {\r\n    createNewTasks,\r\n    deleteTask,\r\n    editTask,\r\n    saveTask,\r\n    cancelTask,\r\n    changeStatus,\r\n    filterTask\r\n};","// removed by extract-text-webpack-plugin"],"sourceRoot":""}