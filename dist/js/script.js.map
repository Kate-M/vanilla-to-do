{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app/js/constant.js","webpack:///./app/js/controller.js","webpack:///./app/js/dom.js","webpack:///./app/js/index.js","webpack:///./app/js/task-logic.js","webpack:///./app/scss/style.scss"],"names":["TASK_AREA","document","querySelector","STATUS","default","processing","completed","startEvents","getElementById","addEventListener","querySelectorAll","forEach","el","onclick","evnt","preventDefault","targetForm","target","closest","targetButton","getAttribute","targetTaskId","targetTaskName","innerHTML","console","log","drawTask","id","name","status","newTask","createElement","setAttribute","insertBefore","firstChild","sendTaskInLocalDB","tasksList","init","Storage","localStorage","getItem","JSON","parse","reload","serialTasksList","stringify","setItem","location","createNewTasks","taskName","value","trim","taskId","Date","valueOf","push","deleteTask","list","filter","index","arr","editTask","form","classList","add","saveTask","newTaskName","currentTask","array","cancelTask","remove","changeStatus","statusValue","selectTask"],"mappings":"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","file":"./js/script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const TASK_AREA = document.querySelector(\".tasks-container\");\r\nconst STATUS = {\r\n    default: 0,\r\n    processing: 1,\r\n    completed: 2\r\n};\r\n\r\nexport {TASK_AREA, STATUS};","import { STATUS } from './constant';\r\nimport { createNewTasks, deleteTask, editTask, saveTask, cancelTask, changeStatus } from './task-logic'\r\n\r\nexport function startEvents() {\r\n    document.getElementById('add-task').addEventListener('click', createNewTasks);\r\n    document.querySelectorAll('.tasks-wrap').forEach(\r\n        el => el.onclick = function (evnt) {\r\n            evnt.preventDefault();\r\n            let targetForm = evnt.target.closest('form');\r\n            let targetButton = evnt.target.getAttribute('data-state');\r\n            let targetTaskId = targetForm.querySelector('.name-field').getAttribute('data-id');\r\n            let targetTaskName = targetForm.querySelector('.name-field').innerHTML;\r\n\r\n            switch (targetButton) {\r\n                case 'delete-task':\r\n                    deleteTask(targetTaskId);\r\n                    break;\r\n                case 'edit-task':\r\n                    editTask(targetForm, targetTaskName, targetTaskId);\r\n                    break;\r\n                case 'cancel-task':\r\n                    cancelTask(targetForm);\r\n                    break;\r\n                case 'save-task':\r\n                    saveTask(targetForm, targetTaskId);\r\n                    break;\r\n                case 'status-task':\r\n                    changeStatus(targetTaskId, STATUS.processing);\r\n                    break;\r\n                case 'status-complete-task':\r\n                    changeStatus(targetTaskId, STATUS.completed);\r\n                    break;       \r\n                default:\r\n                    console.log('other');\r\n            }\r\n        }\r\n    );\r\n}\r\n","import { TASK_AREA } from './constant';\r\n\r\nfunction drawTask(id, name, status) {\r\n    let newTask = document.createElement('div');\r\n    newTask.setAttribute('class', 'tasks-wrap');\r\n    TASK_AREA.insertBefore(newTask, TASK_AREA.firstChild);\r\n\r\n    newTask.innerHTML =\r\n        `<form action=\"smth\" class=\"form task-form\">\r\n            <fieldset class=\"field-wrap\">\r\n                <input type=\"checkbox\" class=\"btn-status-complete\" data-state =\"status-complete-task\" checked=\"${status==2}\">\r\n                <p class=\"field name-field\" data-id=\"${id}\">${name}</p>\r\n                <input type=\"text\" class=\"field edit-name-field\" data-id=\"${id}\" value=\"${name}\">\r\n            </fieldset>\r\n            <div class=\"btn-group\">\r\n                <button class=\"btn btn-sm btn-status\" data-state =\"status-task\" data-status=\"${status}\"></button>\r\n                <button class=\"btn btn-sm btn-edit\" data-state =\"edit-task\"></button>\r\n                <button class=\"btn btn-sm btn-delete-item\" data-state =\"delete-task\"></button>\r\n                <button class=\"btn btn-sm btn-save\" data-state=\"save-task\"></button>\r\n                <button class=\"btn btn-sm btn-cancel\" data-state=\"cancel-task\"></button>\r\n            </div>\r\n        </form>`;\r\n}\r\n\r\nexport { drawTask };","import { startEvents } from './controller';\r\nimport { drawTask } from './dom';\r\n\r\nexport var tasksList = [];\r\n\r\nfunction init() {\r\n\r\n    if (typeof (Storage) !== \"undefined\") {\r\n        if (localStorage.getItem('tasksDB')) {\r\n            tasksList = JSON.parse(localStorage.getItem(\"tasksDB\"));\r\n            tasksList.forEach(el => drawTask(el.id,el.name, el.status));\r\n        }\r\n    } else {\r\n        console.log('Sorry! No Web Storage support');\r\n    }\r\n\r\n    startEvents();\r\n}\r\n\r\nexport function sendTaskInLocalDB(tasksList, reload) {\r\n    let serialTasksList = JSON.stringify(tasksList);\r\n    localStorage.setItem(\"tasksDB\", serialTasksList);\r\n    location.reload();\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', init);","import { STATUS } from './constant';\r\nimport { tasksList, sendTaskInLocalDB } from './index';\r\nimport { drawTask } from './dom';\r\n\r\nfunction createNewTasks(evnt) {\r\n    evnt.preventDefault();\r\n\r\n    let taskName = document.querySelector('.add-field').value.trim();\r\n    \r\n    if (!taskName) {\r\n        document.querySelector('.add-task .error').innerHTML = \"Invalid value\";\r\n    } else {\r\n        let taskId = new Date().valueOf()  + '_' + taskName;\r\n        tasksList.push({\r\n            status: STATUS.default,\r\n            id: taskId,\r\n            name: taskName\r\n        });\r\n        document.querySelector('.add-field').value = '';\r\n        sendTaskInLocalDB(tasksList);\r\n        drawTask(taskId, taskName, STATUS.default);\r\n    }\r\n}\r\nfunction deleteTask (id) {\r\n    let list = tasksList.filter((el, index, arr) => arr[index].id != id);\r\n    sendTaskInLocalDB(list);\r\n};\r\n\r\nfunction editTask (form, name, id) {\r\n    form.classList.add('edit-mode');\r\n};\r\n\r\nfunction saveTask (form, id) {\r\n    let newTaskName = form.querySelector('.edit-name-field').value.trim();\r\n    let currentTask = tasksList.filter((el, index, array) => \r\n        array[index].id == id && newTaskName != ''\r\n    )\r\n    currentTask[0].name = newTaskName;\r\n    sendTaskInLocalDB(tasksList);\r\n};\r\n\r\nfunction cancelTask (form) {\r\n    form.classList.remove('edit-mode');\r\n    console.log(form);\r\n};\r\n\r\nfunction changeStatus(id, statusValue) {\r\n    let currentTask = selectTask(id);\r\n    if(currentTask[0].status == statusValue) {\r\n        currentTask[0].status = STATUS.default;\r\n    } else {\r\n        currentTask[0].status = statusValue;\r\n    }\r\n    sendTaskInLocalDB(tasksList);\r\n}\r\n\r\nfunction selectTask(id) {\r\n    return tasksList.filter((el, index, array) => \r\n        array[index].id == id\r\n    )\r\n}\r\n\r\nexport { createNewTasks, deleteTask, editTask, saveTask, cancelTask, changeStatus };","// removed by extract-text-webpack-plugin"],"sourceRoot":""}